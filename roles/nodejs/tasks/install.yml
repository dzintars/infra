---
  # tasks file for roles/nodejs

# TODO: https://stackoverflow.com/a/49844531/6651080
- name: install a modularity appstream with defined stream
  become: true
  shell: curl -sL https://rpm.nodesource.com/setup_14.x | sudo bash -
  args:
    warn: no

- name: Install NodeJS dependencies
  become: true
  dnf:
    name: "{{ item }}"
    state: latest
  loop: "{{ packages }}"

- name: Install Yarn package globally
  become: yes
  npm:
    name: yarn
    global: yes

- name: Install TypeScript package globally.
  yarn:
    name: typescript
    global: yes

- name: Install Neovim package globally.
  yarn:
    name: neovim
    global: yes

# - name: Install TypeScript package globally.
#   npm:
#     name: typescript
#     global: yes
